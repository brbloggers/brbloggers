<div id="post-content"> <p>Com a greve dos caminhoneiros no final do m&#xEA;s de maio, muitas cidades tiveram uma redu&#xE7;&#xE3;o at&#xED;pica no tr&#xE1;fego de caminh&#xF5;es e, posteriormente, com a falta de combust&#xED;vel, de ve&#xED;culos em geral.</p>
<p>Como as emiss&#xF5;es veiculares s&#xE3;o a principal fonte de diversos poluentes em centros urbanos, faz todo o sentido analisarmos o impacto das paralisa&#xE7;&#xF5;es nos n&#xED;veis de polui&#xE7;&#xE3;o.</p>
<p>Neste post, vamos analisar descritivamente as concentra&#xE7;&#xF5;es de alguns poluentes um pouco antes, durante e um pouco depois da greve dos caminhoneiros.</p>
<div id="contextualizando" class="section level2"> <p>A greve dos caminhoneiros foi como ficou conhecida a paralisa&#xE7;&#xE3;o de caminhoneiros aut&#xF4;nomos em todo o territ&#xF3;rio nacional em maio de 2018. As manifesta&#xE7;&#xF5;es come&#xE7;aram no dia 21 de maio e duraram at&#xE9; o in&#xED;cio de junho. Nesse per&#xED;odo, muitas cidades sofreram com desabastecimento, principalmente de combust&#xED;vel.</p>
<p>Nesta an&#xE1;lise, eu foquei a observa&#xE7;&#xE3;o entre o dias 23 e 30 de maio, per&#xED;odo em que as consequ&#xEA;ncias da greve foram mais intensos. Os poluentes considerados foram:</p>
<ul>
<li><p><a href="https://en.wikipedia.org/wiki/Carbon_monoxide">Mon&#xF3;xido de carbono</a> (CO), g&#xE1;s t&#xF3;xico que pode causar dor de cabe&#xE7;a, tontura, n&#xE1;usea e, em altas concentra&#xE7;&#xF5;es, desorienta&#xE7;&#xE3;o e morte por asfixia. Segundo a CETESB, 97% do CO liberado em S&#xE3;o Paulo vem de emiss&#xF5;es veiculares.</p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Ozone#Ozone_air_pollution">Oz&#xF4;nio</a> (O3), na estratosfera, faz papel de her&#xF3;i, filtrando parte da radia&#xE7;&#xE3;o solar (camada de oz&#xF4;nio). Na troposfera, camada mais baixa da atmosfera, faz papel de vil&#xE3;o, sendo associado a diversas doen&#xE7;as respirat&#xF3;rias e cardiovasculares. N&#xE3;o &#xE9; gerado diretamente pela queima de combust&#xED;veis, mas sim por rea&#xE7;&#xF5;es qu&#xED;micas atmosf&#xE9;ricas que envolvem diversos compostos e radia&#xE7;&#xE3;o solar.</p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Nitric_oxide">Mon&#xF3;xido de nitrog&#xEA;nio</a> (NO) e <a href="https://en.wikipedia.org/wiki/Nitrogen_dioxide">di&#xF3;xido de nitrog&#xEA;nio</a> (NO2), gases t&#xF3;xicos que contribuem para a forma&#xE7;&#xE3;o de chuva &#xE1;cida e do oz&#xF4;nio troposf&#xE9;rico. Est&#xE3;o associados a diversos problemas respirat&#xF3;rios, como enfisema pulmonar e bronquite.</p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Particulates">Material particulado</a> 2.5 (MP2.5) e <a href="https://en.wikipedia.org/wiki/Particulates">material particulado 10</a> (MP10), part&#xED;culas suspensas no ar com di&#xE2;metro menor que 2.5 <span class="math inline">\(\mu\)</span>m (MP2.5) ou entre 2.5 e 10 <span class="math inline">\(\mu\)</span>m (MP10). Est&#xE3;o associadas a diversas doen&#xE7;as respirat&#xF3;rias e c&#xE2;ncer de pulm&#xE3;o.</p></li>
</ul>
<p>As concentra&#xE7;&#xF5;es de cada poluente foram medidas em esta&#xE7;&#xF5;es de monitoramento da CETESB. Considerei quatro esta&#xE7;&#xF5;es na Grande S&#xE3;o Paulo: Osasco, Pinheiros, Parque Dom Pedro II e Ibirapuera. O crit&#xE9;rio para a escolha foi a disponibilidade de dados para os poluentes escolhidos e o perfil do tr&#xE1;fego de ve&#xED;culos na regi&#xE3;o das esta&#xE7;&#xF5;es. As esta&#xE7;&#xF5;es Parque Dom Pedro II e Pinheiros ficam em regi&#xF5;es de tr&#xE1;fego intenso, a primeira no centro da cidade e a segunda pr&#xF3;xima &#xE0; marginal Pinheiros. A esta&#xE7;&#xE3;o de Osasco tamb&#xE9;m fica numa regi&#xE3;o de tr&#xE1;fego intenso e relativamente pr&#xF3;xima a duas rodovias. A esta&#xE7;&#xE3;o Ibirapuera n&#xE3;o &#xE9; muito afetada pelo tr&#xE1;fego pois fica dentro do Parque Ibirapuera e ser&#xE1; utilizada como compara&#xE7;&#xE3;o.</p>
<p>A localiza&#xE7;&#xE3;o de cada uma delas est&#xE1; representada no mapa a seguir:</p> <p>Como s&#xE3;o muitos gr&#xE1;ficos e tabelas, vou apresentar apenas alguns resultados aqui no post. O restante est&#xE1; dispon&#xED;vel <a href="http://curso-r.com/flexdashboards/greve-caminhoneiros/flexdash-greve-caminhoneiros.html">nesse flexdashboard</a>.</p>
</div>
<div id="dados" class="section level2"> <p>Os dados desta an&#xE1;lise foram extra&#xED;dos do sistema Qualar, como discutido <a href="http://curso-r.com/blog/2018/03/19/2018-03-19-scraper-cetesb/">neste post</a>. O per&#xED;odo considerado foi 01/05/2018 a 14/06/2018. Tamb&#xE9;m considerei esse mesmo per&#xED;odo nos anos de 2016 e 2017 para pode comparar o comportamento dos poluentes com e sem a greve de caminhoneiros.</p>
<p>O c&#xF3;digo utilizado pode ser acessado <a href="https://github.com/williamorim/tese/blob/master/data/cetesb-greve-caminhoneiros/manip.R">aqui</a>. Repare que, para facilitar o acompanhamento do processo, as requisi&#xE7;&#xF5;es foram feitas separadamente para cada esta&#xE7;&#xE3;o/ano, pois requisi&#xE7;&#xF5;es com um volume muito grande de dados demoravam muito para serem conclu&#xED;das. Ap&#xF3;s todos os arquivos serem baixados, os dados foram consolidados em uma &#xFA;nica base, que pode ser acessada <a href="https://github.com/williamorim/tese/blob/master/data/cetesb-greve-caminhoneiros/data-greve-caminhoneiros.rds">neste link</a>.</p>
</div>
<div id="funcoes-usadas-para-gerar-os-graficos" class="section level2"> <p>Dado um poluente, um ano e um conjunto de horas, a fun&#xE7;&#xE3;o abaixo devolve um plot com os gr&#xE1;ficos da s&#xE9;rie temporal das quatro esta&#xE7;&#xF5;es, utilizando a m&#xE9;dia di&#xE1;ria do poluente nas horas especificadas.</p>
<pre class="r"><code>make_series_plot &lt;- function(df, pollutant, year_, hours) { if(year_ == 2018) { p_lab &lt;- labs(x = &quot;Dia&quot;, y = pollutant) } else { p_lab &lt;- labs(x = &quot;&quot;, y = pollutant) } df %&gt;% filter( hour %in% hours ) %&gt;% group_by(date, stationname) %&gt;% select(y = pollutant, everything()) %&gt;% summarise(conc = mean(y, na.rm = TRUE)) %&gt;% ungroup() %&gt;% mutate(year = lubridate::year(date)) %&gt;% filter(year == year_) %&gt;% ggplot(aes(x = date, y = conc)) + geom_line() + geom_vline( xintercept = lubridate::dmy(paste0(&quot;23-05-&quot;, year_)), linetype = 2, color = &quot;red&quot; ) + geom_vline( xintercept = lubridate::dmy(paste0(&quot;30-05-&quot;, year_)), linetype = 2, color = &quot;red&quot; ) + facet_grid(year ~ stationname, scales = &quot;free_y&quot;) + theme_bw() + scale_x_date( labels = scales::date_format(&quot;%d-%m&quot;), breaks = c( lubridate::dmy(paste0(&quot;01-05-&quot;, year_)), lubridate::dmy(paste0(&quot;01-06-&quot;, year_)) ), date_breaks = &quot;1 month&quot; ) + p_lab }</code></pre>
<p>A fun&#xE7;&#xE3;o <code>make_grid_plot()</code> aplica a fun&#xE7;&#xE3;o acima e junta os gr&#xE1;ficos dos tr&#xEA;s anos considerados.</p>
<pre class="r"><code>make_grid_plot &lt;- function(df, pollutant, hours) { map( 2016:2018, make_series_plot, df = df, pollutant = pollutant, hours = hours ) %&gt;% patchwork::wrap_plots(nrow = 3) %&gt;% print() }</code></pre>
<p>A <code>fun&#xE7;&#xE3;o make_bar_plot()</code> faz um gr&#xE1;fico de barras para a m&#xE9;dia dos poluentes para cada esta&#xE7;&#xE3;o em diferentes per&#xED;odos (antes, durante e ap&#xF3;s a greve).</p>
<pre class="r"><code>make_bar_plot &lt;- function(df, pollutant_, hours) { df %&gt;% mutate(period = case_when( date &gt; dmy(&quot;09-05-2018&quot;) &amp; date &lt; dmy(&quot;16-05-2018&quot;) ~ 1, date &gt; dmy(&quot;23-05-2018&quot;) &amp; date &lt; dmy(&quot;30-05-2018&quot;) ~ 2, date &gt; dmy(&quot;06-06-2018&quot;) &amp; date &lt; dmy(&quot;14-06-2018&quot;) ~ 3, TRUE ~ 0 )) %&gt;% filter(period != 0) %&gt;% gather(pollutant, conc, CO:O3) %&gt;% group_by(pollutant, stationname, period) %&gt;% filter(hour %in% hours, pollutant == pollutant_) %&gt;% summarise(conc = mean(conc, na.rm = TRUE)) %&gt;% ggplot(aes(x = stationname, y = conc, fill = as.factor(period))) + geom_bar(stat = &quot;identity&quot;, position = &quot;dodge&quot;) + labs(y = pollutant_, fill = &quot;Per&#xED;odo&quot;, x = &quot;Esta&#xE7;&#xE3;o&quot;) + scale_fill_discrete( labels = c(&quot;09/05 a 16/05&quot;, &quot;23/05 a 30/05&quot;, &quot;06/06 a 14/06&quot;) ) + theme(legend.position = &quot;bottom&quot;)
}</code></pre>
</div>
<div id="resultados" class="section level2"> <p>Para construir as s&#xE9;ries, eu usei o gr&#xE1;fico abaixo para avaliar a m&#xE9;dia hor&#xE1;ria de cada poluente em cada dia da semana. Assim, em vez de usar as s&#xE9;ries hor&#xE1;rias, que, em geral, apresentam sazonalidade di&#xE1;ria, eu usei contru&#xED; as s&#xE9;ries da m&#xE9;dia di&#xE1;ria nos hor&#xE1;rios de pico. O gr&#xE1;fico mostra, por exemplo, que os picos de CO acontecem de manh&#xE3; e no come&#xE7;o da noite e que os n&#xED;veis desse poluente s&#xE3;o bem menores nos fins de semana.</p>
<pre class="r"><code>df %&gt;% group_by(dayofweek, hour) %&gt;% summarise_at(vars(CO:O3), funs(mean), na.rm = TRUE) %&gt;% gather(polluent, conc, CO:O3) %&gt;% ggplot(aes(x = hour, y = conc)) + geom_line() + facet_grid(polluent ~ dayofweek, scales = &quot;free_y&quot;) + theme_bw() + labs(x = &quot;Hora&quot;, y = &quot;Concentra&#xE7;&#xE3;o&quot;)</code></pre>
<p><img src="http://curso-r.com/blog/2018-06-18-poluicao-greve-caminhoneiros_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
<p>Usando ent&#xE3;o a fun&#xE7;&#xE3;o <code>make_grid_plot()</code> e as informa&#xE7;&#xF5;es do gr&#xE1;fico acima, podemos construir e analisar as s&#xE9;ries de cada poluente. Nos gr&#xE1;ficos abaixo, o intervalo entre as retas pontilhadas representa o per&#xED;odo de greve.</p>
<p>O gr&#xE1;fico abaixo mostra as s&#xE9;ries do mon&#xF3;xido de carbono (CO), utilizando a m&#xE9;dia di&#xE1;ria das 7 &#xE0;s 11 horas. Os fins de semana foram retirados da amostra.</p>
<pre class="r"><code>df %&gt;% filter(!dayofweek %in% c(&quot;s&#xE1;b&quot;,&quot;dom&quot;)) %&gt;% make_grid_plot(&quot;CO&quot;, 7:11)</code></pre>
<p><img src="http://curso-r.com/blog/2018-06-18-poluicao-greve-caminhoneiros_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
<p>Agora, o gr&#xE1;fico do mon&#xF3;xido de nitrog&#xEA;nio (NO), tamb&#xE9;m com m&#xE9;dia di&#xE1;ria das 7 &#xE0;s 11 horas. Os domingos foram retirados da amostra.</p>
<pre class="r"><code>df %&gt;% filter(!dayofweek %in% c(&quot;dom&quot;)) %&gt;% make_grid_plot(&quot;NO&quot;, 7:11)</code></pre>
<p><img src="http://curso-r.com/blog/2018-06-18-poluicao-greve-caminhoneiros_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<p>E o gr&#xE1;fico do oz&#xF4;nio, com m&#xE9;dia di&#xE1;ria das 12 &#xE0;s 17 horas. Osasco foi retirada pois n&#xE3;o h&#xE1; dados de oz&#xF4;nio nessa esta&#xE7;&#xE3;o.</p>
<pre class="r"><code>df %&gt;% filter(!stationname == &quot;Osasco&quot;) %&gt;% make_grid_plot(&quot;O3&quot;, 12:17)</code></pre>
<p><img src="http://curso-r.com/blog/2018-06-18-poluicao-greve-caminhoneiros_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<p>O gr&#xE1;fico abaixo apresenta a m&#xE9;dia das m&#xE9;dias di&#xE1;rias de CO (das 7h &#xE0;s 11h) em um per&#xED;odo anterior (09/05 a 16/05), durante (23/05 a 30/05) e em um per&#xED;odo posterior &#xE0; greve (06/06 a 14/06). Os tr&#xEA;s per&#xED;odos t&#xEA;m o mesmo n&#xFA;mero de dias da semana e fins de semana.</p>
<pre class="r"><code>make_bar_plot(df, &quot;CO&quot;, 7:11)</code></pre>
<p><img src="http://curso-r.com/blog/2018-06-18-poluicao-greve-caminhoneiros_files/figure-html/unnamed-chunk-11-1.png" width="672"></p>
<p>Como comentei anteriormente, os gr&#xE1;ficos restantes podem ser visualizados <a href="http://curso-r.com/flexdashboards/greve-caminhoneiros/flexdash-greve-caminhoneiros.html">neste dashboard</a>.</p>
<p>Por fim, eu juntei os per&#xED;odos anterior (09/05 a 16/05) e posterior (06/06 a 14/06), calculei a m&#xE9;dia dos poluentes nesses dias e comparei com a m&#xE9;dia durante o per&#xED;odo de greve. A varia&#xE7;&#xE3;o dos poluentes para cada esta&#xE7;&#xE3;o est&#xE1; apresentada na tabela abaixo. O CO pela manh&#xE3;, por exemplo, diminuiu 58.62% em Pinheiros durante a greve, enquanto o oz&#xF4;nio aumentou 111.75%.</p>
<table>
<thead> </thead>
<tbody>
<tr class="odd">
<td>CO (manh&#xE3;)</td>
<td>-48.02%</td>
<td>-32.78%</td>
<td>-51.16%</td>
<td>-65.9%</td>
</tr>
<tr class="even">
<td>CO (noite)</td>
<td>-61.18%</td>
<td>-50.81%</td>
<td>-60.77%</td>
<td>-62.96%</td>
</tr>
<tr class="odd">
<td>MP10</td>
<td>NaN%</td>
<td>-19.1%</td>
<td>-19.06%</td>
<td>-20.06%</td>
</tr>
<tr class="even">
<td>MP2.5</td>
<td>-10.26%</td>
<td>-21.08%</td>
<td>-20.98%</td>
<td>-21.13%</td>
</tr>
<tr class="odd">
<td>NO</td>
<td>-89.66%</td>
<td>-50.9%</td>
<td>-75.38%</td>
<td>-83.09%</td>
</tr>
<tr class="even">
<td>NO2</td>
<td>-42.49%</td>
<td>-13.24%</td>
<td>-38.73%</td>
<td>-39.45%</td>
</tr>
<tr class="odd">
<td>O3</td>
<td>53.7%</td>
<td>NaN%</td>
<td>68.43%</td>
<td>126%</td>
</tr>
</tbody>
</table>
</div>
<h2>Coment&#xE1;rios</h2>
<ul>
<li><p>Com exce&#xE7;&#xE3;o do oz&#xF4;nio, a concentra&#xE7;&#xE3;o m&#xE9;dia dos poluentes durante o per&#xED;odo de paralisa&#xE7;&#xE3;o diminuiu. A maior redu&#xE7;&#xE3;o foi a de NO, que &#xE9; diretamente produzido pela queima de combust&#xED;veis, principalmente gasolina e diesel. A greve n&#xE3;o parece ter influenciado muito nos n&#xED;veis de MP2.5.</p></li>
<li><p>O oz&#xF4;nio n&#xE3;o &#xE9; produzido diretamente pela combust&#xE3;o de combust&#xED;veis. Ele &#xE9; produto de um complexo processo qu&#xED;mico que ocorre ao longo do dia, envolvendo diversos compostos e a radia&#xE7;&#xE3;o solar. O aumento da concentra&#xE7;&#xE3;o de oz&#xF4;nio durante a greve era esperada, pois o NO emitido pela queima de diesel e gasolina reage com o O3 troposf&#xE9;rico, diminuindo a sua concentra&#xE7;&#xE3;o ao longo da tarde. Como o NO diminuiu por causa do menor tr&#xE1;fego de ve&#xED;culos, o n&#xED;vel de oz&#xF4;nio foi maior durante a greve. Para mais detalhes sobre esse fen&#xF4;meno, veja <a href="https://www.rpollution.com/blog/o-ciclo-do-ozonio/">este post</a>.</p></li>
<li><p>Esta an&#xE1;lise s&#xF3; considera o per&#xED;odo de greve e vari&#xE1;veis de calend&#xE1;rio para explicar a varia&#xE7;&#xE3;o da concentra&#xE7;&#xE3;o dos poluentes. Uma an&#xE1;lise mais completa deveria considerar tamb&#xE9;m os efeitos clim&#xE1;ticos (temperatura, precipita&#xE7;&#xE3;o, vento, radia&#xE7;&#xE3;o, entre outros). As conclus&#xF5;es aqui sup&#xF5;em que esses fatores se mantiveram homog&#xEA;neos durante o per&#xED;odo analisado, o que pode n&#xE3;o ser razo&#xE1;vel.</p></li>
</ul> </div>
